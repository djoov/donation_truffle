{% extends "base.html" %}

{% block content %}

<div class="card" style="max-width: 500px; margin: 0 auto;">
    <div class="section-header" style="text-align: center;">
        <h3 style="color: var(--text-gray); margin-bottom: 5px;">Donasi Untuk</h3>
        <h2 style="color: var(--primary);">{{ c.title }}</h2>
    </div>

    {% if success %}
    <div style="background: #E8F5E9; color: #2E7D32; padding: 15px; border-radius: 8px; margin-bottom: 20px; text-align: center;">
        <i class="fa-solid fa-gift"></i> <strong>Terima Kasih!</strong><br>
        Donasi Anda telah diterima.<br>
        <small>Tx: {{ tx_hash }}</small><br>
        <a href="/ui/campaign/{{ c.id }}" style="color: #2E7D32; font-weight: bold; display: inline-block; margin-top: 10px;">Lihat Kampanye</a>
    </div>
    {% else %}

    <form action="/ui/donate/{{ c.id }}" method="POST">
        <label for="amount">Jumlah Donasi (ETH)</label>
        <div style="position: relative;">
            <input type="number" step="0.0001" name="amount" class="input-field" placeholder="0.1" style="padding-left: 20px;" required>
            <!-- <span style="position: absolute; right: 15px; top: 15px; font-weight: bold; color: #888;">ETH</span> -->
        </div>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">
        <p style="font-size: 0.85rem; color: #666; margin-bottom: 15px;"><strong>Pembayaran (Wallet):</strong></p>

        <label for="from">Dari Address</label>
        <input type="text" name="from" class="input-field" placeholder="0x..." required>

        <label for="private_key">Private Key</label>
        <input type="password" name="private_key" class="input-field" placeholder="Kunci privat wallet Anda" required>

        <button type="submit" class="button button-full">
            <i class="fa-solid fa-paper-plane"></i> Kirim Donasi
        </button>
    </form>
    {% endif %}
</div>

{% endblock %}